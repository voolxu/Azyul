<HBProfile>
<Name>Azyul ~ Master Mount Farm [$Rev$]</Name>
<MinFreeBagSlots>-1</MinFreeBagSlots>
///////////////////////////////////////////////////////////////////////
// Profile Developer: EchoTiger
///////////////////////////////////////////////////////////////////////

<MinLevel>54</MinLevel>
<MaxLevel>91</MaxLevel>

<MailGrey>False</MailGrey>
<MailWhite>True</MailWhite>
<MailGreen>True</MailGreen>
<MailBlue>True</MailBlue>
<MailPurple>True</MailPurple>

<SellGrey>True</SellGrey>
<SellWhite>True</SellWhite>
<SellGreen>True</SellGreen>
<SellBlue>True</SellBlue>
<SellPurple>False</SellPurple>

	<!-- Protected Items list, can add to these as you see fit, if you are looking for specific items -->
	
<ProtectedItems>
</ProtectedItems>
	
<Vendors>
</Vendors>

<Mailboxes>
</Mailboxes>


<AvoidMobs>
	<Mob Name="Howling Gale" Entry="45572" /> 
	<Mob Name="Summon Enabler Stalker" Entry="53488" /> <!-- Hidden mob that coordinates raid/group summons in every dungeon -->
    <Mob Name="Lurking Tempest" Entry="45704"  />
</AvoidMobs>


<Blackspots>
	<Blackspot X="3868.92" Y="-3530.008" Z="137.5698" Radius="5.388495" />
	<Blackspot X="3844.466" Y="-3538.624" Z="138.7303" Radius="2.448554" />
	<Blackspot X="4067.023" Y="-3452.492" Z="120.4575" Radius="3.75266" /> <!-- Crate in Stratholme -->
</Blackspots>

<QuestOrder>



	<If Condition="!HasItem(44151) &amp;&amp; !Me.KnowsSpell(59996)" > <!-- Blue-Proto Drake -->
		<CustomBehavior File="Message" Text="\nLooks like we don't have the Blue-Proto Drake..\nLet's get it!" LogColor="Yellow" />
		<DisableBehavior Name="FlightPath" />

		<If Condition="!(Me.MapId == 571)" > 

			<If Condition="Me.Class == WoWClass.Mage &amp;&amp; Me.KnowsSpell(53140)" >
				<CustomBehavior File="ForcedDismount" />
				<CustomBehavior File="Misc\RunLua" Lua="CastSpellByID(30719);" />
				<CustomBehavior File="Message" Text="Teleporting to Dalaran." LogColor="Yellow" />
				<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="Me.MapId == 571" />
				<ElseIf Condition="Me.Class == WoWClass.Mage &amp;&amp; Me.IsAlliance" >
					<CustomBehavior File="Message" Text="We are a Mage but don't know how to teleport to Dalaran!  Teleporting to Stormwind instead." LogColor="Red" />
					<CustomBehavior File="Misc\RunLua" Lua="CastSpellByID(3561);" />
					<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="Me.MapId == 0" />
				</ElseIf>
				<ElseIf Condition="Me.Class == WoWClass.Mage &amp;&amp; Me.IsHorde" >
					<CustomBehavior File="Message" Text="We are a Mage but don't know how to teleport to Dalaran!  Teleporting to Orgrimmar instead." LogColor="Red" />
					<CustomBehavior File="Misc\RunLua" Lua="CastSpellByID(3567);" />
					<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="Me.MapId == 1" />
				</ElseIf>
			</If>

			<CustomBehavior File="UserSettings" FindVendorsAutomatically="False" LootMobs="False" PullDistance="1" />
			<!-- Begin universal transportation script -->
				<While Condition="!(Me.MapId == 571)" >
					<If Condition="Me.IsAlliance" >
					<!-- Outland move to and use portal in shat -->
						<If Condition="Me.MapId == 530" >
						<CustomBehavior File="Message" Text="Going to Stormwind." LogColor="Lime" />
							<CustomBehavior File="FlyTo" X="-248.064" Y="930.2079" Z="84.37978" DestName="BC Portal" />
							<CustomBehavior File="MyCTM" X="-247.1655" Y="897.484" Z="84.3497" />
							<CustomBehavior File="WaitTimer" WaitTime="5000"/>
							<While Condition="Me.MapId == 530" >
								<CustomBehavior File="MyCTM" X="-245.7161" Y="896.1308" Z="84.3497" />
								<CustomBehavior File="WaitTimer" WaitTime="5000"/>
							</While>
							<CustomBehavior File="WaitTimer" WaitTime="10000"/>
						</If>
						<!-- Northrend, go home from borean -->
						<If Condition="Me.MapId == 571" >
						<CustomBehavior File="Message" Text="Going to Stormwind." LogColor="Lime" />
							<If Condition="(HasSpell(54197))">
								<CustomBehavior File="FlyTo" DestName="fly my minions fly" X="2236.118" Y="5145.615" Z="5.346904"  />
							</If>
							<CustomBehavior File="UseTransport" TransportId="190536"    
											WaitAtX="2234.375" WaitAtY="5132.568" WaitAtZ="5.343217" 
											TransportStartX="2218.391" TransportStartY="5119.589" TransportStartZ="0.04" 
											StandOnX="2223.174" StandOnY="5118.869" StandOnZ="9.43335"
											TransportEndX="-8288.816" TransportEndY="1424.703" TransportEndZ="0.04" 
											GetOffX="-8300.08" GetOffY="1405.158" GetOffZ="4.422395" />
						</If>
						<!-- Kalimdor boat from Ratchet. -->
						<If Condition="Me.MapId == 1" >
						<CustomBehavior File="Message" Text="Going to Stormwind." LogColor="Lime" />
							<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
								<CustomBehavior File="FlyTo" X="-996.8669" Y="-3826.07" Z="5.536246" />
							</If>
							<If Condition="!SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
								<RunTo X="-996.8669" Y="-3826.07" Z="5.536246" />
							</If>
							<CustomBehavior File="UseTransport" TransportId="20808"
											WaitAtX="-996.8669" WaitAtY="-3826.07" WaitAtZ="5.536246" 
											TransportStartX="-1005.613" TransportStartY="-3841.648" TransportStartZ="0.01553879"
											StandOnX="-997.3311" StandOnY="-3836.707" StandOnZ="6.030852"
											TransportEndX="-14277.75" TransportEndY="582.8661" TransportEndZ="0.03330701"
											GetOffX="-14280.88" GetOffY="566.6268" GetOffZ="6.979454" />
						</If>
						<!-- Deepholm, Taking portal. -->
						<If Condition="Me.MapId == 646" >
						<CustomBehavior File="Message" Text="Going to Stormwind." LogColor="Lime" />
							<CustomBehavior File="FlyTo" X="846.4727" Y="483.7805" Z="-19.13363" />
							<CustomBehavior File="FlyTo" X="918.0795" Y="503.5825" Z="-49.25048" />
							<RunTo X="973.6232" Y="570.9096" Z="-46.0024" />
							<CustomBehavior File="InteractWith" MobId="205272" ObjectType="Gameobject" Range="4" X="973.6232" Y="570.9096" Z="-46.0024" />
							<CustomBehavior File="WaitTimer" WaitTime="8000" GoalText="Waiting for port {TimeRemaining}" />
						</If>
						<!-- Pandaland, Taking portal. -->
						<If Condition="Me.MapId == 870" >
						<CustomBehavior File="Message" Text="Going to Stormwind." LogColor="Lime" />
							<CustomBehavior File="FlyTo" X="-311.6545" Y="-1776.63" Z="62.67051" />
							<RunTo X="-311.6545" Y="-1776.63" Z="62.67051" />
							<CustomBehavior File="InteractWith" MobId="210805" ObjectType="Gameobject" Range="4" />
							<CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting for zone {TimeRemaining}" />
						</If>
						<!-- Homeland, Ally Eastern Kingdom -->
						<If Condition="Me.MapId == 0" >
							
							<If condition="true"><!-- If Set true will go to Northrend -->
							<CustomBehavior File="Message" Text="Going to Vikingland." LogColor="Lime" />
							
							<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
								<CustomBehavior File="FlyTo" X="-8300.08" Y="1405.158" Z="4.422395" />
							</If>
							<CustomBehavior File="UseTransport" TransportId="190536" 
											WaitAtX="-8300.08" WaitAtY="1405.158" WaitAtZ="4.422395"
											GetOffX="2234.375" GetOffY="5132.568" GetOffZ="5.343217"
											StandOnX="-8293.091" StandOnY="1421.008" StandOnZ="9.480089"
											TransportStartX="-8288.816" TransportStartY="1424.703" TransportStartZ="0.04" 
											TransportEndX="2218.391" TransportEndY="5119.589" TransportEndZ="0.04" />	
							<CustomBehavior File="WaitTimer" WaitTime="5000" />
							</If>
							
							<If condition="false"><!-- If Set true will go to Outland -->
							<CustomBehavior File="Message" Text="Going to Outland." LogColor="Lime" />
							
							<While Condition="Me.MapId == 0" >
								<If Condition="Me.MapId == 0" >
										<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
											<CustomBehavior File="FlyTo" X="-11895.44" Y="-3206.936" Z="-14.64132" />
										</If>
										<RunTo X="-11895.44" Y="-3206.936" Z="-14.64132" />
										<CustomBehavior File="WaitTimer" WaitTime="1000" />
									</If>
									<If Condition="Me.MapId == 0" >
										<CustomBehavior File="MyCTM" X="-11908.09" Y="-3208.854" Z="-14.83002" />
										<CustomBehavior File="WaitTimer" WaitTime="5000" />
									</If>
									<If Condition="Me.MapId == 0" >
										<CustomBehavior File="WaitTimer" WaitTime="5000" />
									</If>
							</While>
							</If>
							
							<If condition="false"> <!-- If Set true will go to Kalimdor -->
							<CustomBehavior File="Message" Text="Going to Kalimdor." LogColor="Lime" />
							
							<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
								<CustomBehavior File="FlyTo" X="-14288.29" Y="549.3284" Z="8.689642" />
							</If>
							<If Condition="!SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
								<Runto X="-14288.29" Y="549.3284" Z="8.689642" />
							</If>
							<CustomBehavior File="ForcedDismount" />
							<!-- BB dock to Ratchet -->
							<CustomBehavior File="UseTransport" TransportId="20808"
											WaitAtX="-14280.88" WaitAtY="566.6268" WaitAtZ="6.979454" 
											TransportStartX="-14277.75" TransportStartY="582.8661" TransportStartZ="0.01553879"
											StandOnX="-14270.46" StandOnY="579.9881" StandOnZ="6.088587"
											TransportEndX="-1005.613" TransportEndY="-3841.648" TransportEndZ="0.03330701"
											GetOffX="-996.8669" GetOffY="-3826.07" GetOffZ="5.536246" />
							</If>
							
							<If condition="false"><!-- If Set true will go to Pandaland -->
							<CustomBehavior File="Message" Text="Going to Pandaland." LogColor="Lime" />
							
							<CustomBehavior File="FlyTo" X="-8200.323" Y="527.858" Z="116.7516"  />
							<CustomBehavior File="InteractWith" MobId="215457" ObjectType="Gameobject" Range="4" />
							<CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting for zone {TimeRemaining}" />
							<!-- Going to Pandaland Stop -->
							</If>	
							
							<!-- No profiles in deepholm-->
								
						</If>
					</If>
					<!-- Horde part -->
					<If Condition="Me.IsHorde" >
						<!-- Outland move to and use portal in shat -->
						<If Condition="Me.MapId == 530" >
						<CustomBehavior File="Message" Text="Going to Kalimdor." LogColor="Lime" />
							<While Condition="Me.MapId == 530" >
								<CustomBehavior File="FlyTo" DestName="Org portal" X="-1956.413" Y="5383.551" Z="-12.42774" />
								<CustomBehavior File="ForcedDismount" />

								<RunTo X="-1898.169" Y="5395.958" Z="-12.42774" />
								<CustomBehavior File="InteractWith" MobId="183323" ObjectType="Gameobject" Range="4" />
								<CustomBehavior File="WaitTimer" WaitTime="15000" GoalText="Waiting for zone {TimeRemaining}" />
							</While>
							<RunTo X="1896.122" Y="-4489.93" Z="23.84045" />
							<CustomBehavior File="FlyTo" X="1882.573" Y="-4548.733" Z="110.4602" />
						</If>
						<!-- Northrend, go home from borean -->
						<If Condition="Me.MapId == 571" >
						<CustomBehavior File="Message" Text="Going to Kalimdor." LogColor="Lime" />
							<If Condition="(HasSpell(54197))">
								<CustomBehavior File="FlyTo" DestName="Borean Tundra" X="2708.396" Y="6066.991" Z="109.617" />
								<CustomBehavior File="FlyTo" DestName="Warsong Hold, BT" X="2740.837" Y="6097.529" Z="76.88604" />
							</If>
							<CustomBehavior File="Message" Text="Running to Borean Zepp to Org" LogColor="Cornflowerblue" />
							<RunTo X="2829.74" Y="6179.48" Z="121.9793" />
							<CustomBehavior File="Message" Text="Waiting for Borean Zepp to Org - don't interact!" LogColor="Orange" />
							<CustomBehavior File="UseTransport" TransportId="186238"
											WaitAtX="2836.831" WaitAtY="6185.15" WaitAtZ="121.9923" 
											TransportStartX="2837.908" TransportStartY="6187.443" TransportStartZ="140.1648" 
											StandOnX="2844.171" StandOnY="6191.577" StandOnZ="122.3017" 
											TransportEndX="1775.066" TransportEndY="-4299.745" TransportEndZ="151.0326" 
											GetOffX="1763.203" GetOffY="-4284.529" GetOffZ="133.1072" />
						</If>
						<!-- From Eastern Kingdom going home -->
						<If Condition="Me.MapId == 0" >
						<CustomBehavior File="Message" Text="Going to Kalimdor." LogColor="Lime" />
							<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
								<CustomBehavior File="FlyTo" X="2039.925" Y="273.7229" Z="142.3792" />
								<CustomBehavior File="FlyTo" X="2067.174" Y="284.9927" Z="97.03151" />
							</If>
							<RunTo X="2070.155" Y="289.2588" Z="97.0315" />
							<CustomBehavior File="UseTransport"
											TransportId="164871"
											WaitAtX="2070.155" WaitAtY="289.2588" WaitAtZ="97.0315" 
											TransportStartX="2062.376" TransportStartY="292.998" TransportStartZ="114.973"
											TransportEndX="1833.509" TransportEndY="-4391.543" TransportEndZ="152.7679"
											StandOnX="2067.979" StandOnY="295.2747" StandOnZ="97.23677" 
											GetOffX="1840.225" GetOffY="-4390.912" GetOffZ="135.2337" />
						</If>
						<!-- Deepholm, Taking portal. -->
						<If Condition="Me.MapId == 646" >
						<CustomBehavior File="Message" Text="Going to Kalimdor." LogColor="Lime" />
							<CustomBehavior File="FlyTo" X="846.4727" Y="483.7805" Z="-19.13363" />
							<CustomBehavior File="FlyTo" X="918.0795" Y="503.5825" Z="-49.25048" />
							<RunTo X="990.1199" Y="457.7099" Z="-44.2598" />
							<CustomBehavior File="InteractWith" MobId="205273" ObjectType="Gameobject" Range="4" X="990.1199" Y="457.7099" Z="-44.2598" />
							<CustomBehavior File="WaitTimer" WaitTime="8000" GoalText="Waiting for port {TimeRemaining}" />
						</If>
						<!-- Pandaland, Taking portal. -->
						<If Condition="Me.MapId == 870" >
						<CustomBehavior File="Message" Text="Going to Kalimdor." LogColor="Lime" />
						
							<CustomBehavior File="FlyTo" X="2924.921" Y="-510.5903" Z="268.8555" />
							<RunTo X="2924.921" Y="-510.5903" Z="268.8555" />
							<CustomBehavior File="InteractWith" MobId="210804" ObjectType="Gameobject" Range="4" />
							<CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting for zone {TimeRemaining}" />
						</If>
						<!-- Homeland, Horde Kalimdor -->
						<If Condition="Me.MapId == 1" >

							<If condition="true"><!-- If Set true will go to Northrend -->
							<CustomBehavior File="Message" Text="Going to Northrend." LogColor="Lime" />
							
								<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
									<CustomBehavior File="FlyTo" X="1736.402" Y="-4283.072" Z="190.7621" />
									<CustomBehavior File="FlyTo" X="1754.089" Y="-4278.742" Z="133.0416" />
									<CustomBehavior File="ForcedDismount" />
								</If>
								<RunTo X="1763.389" Y="-4283.858" Z="133.1073" />
								
								<CustomBehavior File="Message" Text="Waiting for Org Zepp to Borean - don't interact!" LogColor="Orange" />
						
								<CustomBehavior File="UseTransport" TransportId="186238"
												WaitAtX="1763.066" WaitAtY="-4284.396" WaitAtZ="133.1081" 
												TransportStartX="1775.066" TransportStartY="-4299.745" TransportStartZ="151.0326" 
												StandOnX="1770.22" StandOnY="-4292.056" StandOnZ="133.1872" 
												TransportEndX="2837.908" TransportEndY="6187.443" TransportEndZ="140.1648" 
												GetOffX="2836.831" GetOffY="6185.15" GetOffZ="121.9923" />
								<RunTo X="2740.837" Y="6097.529" Z="76.88604" />
							</If>
							
							<If condition="false"><!-- If Set true will go to Outland -->
							<CustomBehavior File="Message" Text="On out way to Outland." LogColor="Lime" />
							<CustomBehavior File="Message" Text="Going by boat in Ratchet." LogColor="Lime" />
							
							<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
								<CustomBehavior File="FlyTo" X="-996.8669" Y="-3826.07" Z="5.536246" />
							</If>
							<If Condition="!SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
								<RunTo X="-996.8669" Y="-3826.07" Z="5.536246" />
							</If>
							<CustomBehavior File="UseTransport" TransportId="20808"
											WaitAtX="-996.8669" WaitAtY="-3826.07" WaitAtZ="5.536246" 
											TransportStartX="-1005.613" TransportStartY="-3841.648" TransportStartZ="0.01553879"
											StandOnX="-997.3311" StandOnY="-3836.707" StandOnZ="6.030852"
											TransportEndX="-14277.75" TransportEndY="582.8661" TransportEndZ="0.03330701"
											GetOffX="-14280.88" GetOffY="566.6268" GetOffZ="6.979454" />
											<!-- Should now be in Eastern Kingdom -->
								<While Condition="Me.MapId == 0" >
									<If Condition="Me.MapId == 0" >
										<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
											<CustomBehavior File="FlyTo" X="-11895.44" Y="-3206.936" Z="-14.64132" />
										</If>
										<RunTo X="-11895.44" Y="-3206.936" Z="-14.64132" />
										<CustomBehavior File="WaitTimer" WaitTime="1000" />
									</If>
									<If Condition="Me.MapId == 0" >
										<CustomBehavior File="MyCTM" X="-11908.09" Y="-3208.854" Z="-14.83002" />
										<CustomBehavior File="WaitTimer" WaitTime="5000" />
									</If>
									<If Condition="Me.MapId == 0" >
										<CustomBehavior File="WaitTimer" WaitTime="5000" />
									</If>
								</While>
							</If>
							
							<If condition="false"><!-- If Set true will go to Eastern Kingdom -->
							<CustomBehavior File="Message" Text="Going to Eastern Kingdom." LogColor="Lime" />
							
								<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
									<CustomBehavior File="FlyTo" X="1836.794" Y="-4383.654" Z="206.7829" />
									<CustomBehavior File="FlyTo" X="1848.44" Y="-4398.829" Z="135.1602" />
									<CustomBehavior File="ForcedDismount" />
								</If>
								<RunTo X="1840.468" Y="-4392.099" Z="135.2326" />
								<CustomBehavior File="UseTransport" TransportId="164871"
												WaitAtX="1838.676" WaitAtY="-4387.965" WaitAtZ="135.2332"
												TransportStartX="1833.509" TransportStartY="-4391.543" TransportStartZ="152.7679"
												TransportEndX="2062.376" TransportEndY="292.998" TransportEndZ="114.973"
												StandOnX="1834.961" StandOnY="-4385.694" StandOnZ="135.0334" 
												GetOffX="2066.773" GetOffY="288.873" GetOffZ="97.03159" />
							</If>
							
							<If condition="false"><!-- If Set true will go to Pandaland -->
							<CustomBehavior File="Message" Text="Going to Pandaland." LogColor="Lime" />
							
								<CustomBehavior File="FlyTo" X="2012.948" Y="-4698.641" Z="28.60529" />
								<CustomBehavior File="InteractWith" MobId="215424" ObjectType="Gameobject" Range="4" />
								<CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting for zone {TimeRemaining}" />
								
							</If>	
							
							<!-- No profiles in deepholm-->
								
						</If>
					</If>
				</While>
				<!-- 
				End transport script credit to Bengan. 
				With use of Kicks go to profiles.
				Big thanks to Kick for this.
				--> 
				
			<!-- ALLIANCE CHECK - RIDING -->
			<If Condition="(!HasSpell(54197))  &amp;&amp; (Me.IsAlliance)" >
				<CustomBehavior File="Message" Text="Training Riding" LogColor="Cornflowerblue" />
							
				<If Condition="Me.Gold &gt;= 401" >
					<RunTo X="2274.391" Y="5174.106" Z="11.17985" />
					<CustomBehavior File="InteractWith"  MobId="35133" WaitTime="1000" CollectionDistance="50" X="2274.391" Y="5174.106" Z="11.17985" />
					<CustomBehavior File="ForceTrainRiding" MobId="35133" />
					<CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting {TimeRemaining}"  />
				</If>
			</If>
			<!-- HORDE CHECK - RIDING -->
			<If Condition="(!HasSpell(54197)) &amp;&amp; (Me.IsHorde)">
				<CustomBehavior File="Message" Text="Training Riding" LogColor="Cornflowerblue" />

				<!-- Elevator -->
				<If Condition="(Me.Z &lt; 190)" >
					<RunTo X="2869.177" Y="6215.224" Z="104.2853" />
					<CustomBehavior File="UseTransport" TransportId="188521" 
								WaitAtX="2869.177" WaitAtY="6215.224" WaitAtZ="104.2853"
								GetOffX="2880.96" GetOffY="6225.813" GetOffZ="208.7495" 
								TransportStartX="2877.649" TransportStartY="6223.188" TransportStartZ="104.8859" 
								TransportEndX="2892.18" TransportEndY="6236.337" TransportEndZ="208.908"
								StandOnX="2878.604" StandOnY="6223.707" StandOnZ="105.3792"  />
			 	</If>
				<If Condition="Me.Gold &gt;= 401" >
					<RunTo X="2773.588" Y="6144.316" Z="208.7535" />
					<CustomBehavior File="InteractWith"  MobId="35135" WaitTime="1000" CollectionDistance="50" X="2773.588" Y="6144.316" Z="208.7535" />
					<CustomBehavior File="ForceTrainRiding" MobId="35135" />
					<CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting {TimeRemaining}"  />
				</If>
			</If>

			<!--Flying notification -->
			<If Condition="(!HasSpell(54197))">
				<CustomBehavior File="UserDialog" AllowBotStop="True" SoundCue="Exclamation" SoundCueInterval="1" StopOnContinue="True" Text="You don't have enough gold to train Cold Weather Flying!\nYou must have Cold Weather Flying to continue." />
			</If>

			<!-- END OF COLD WEATHER FLYING CHECK -->
		</If>
		<If Condition="!(Me.MapId == 575) &amp;&amp; Me.Location.Distance(new WoWPoint(1260.573, -4846.633, 233.1049)) &gt;= 150 " >
			<!-- Start GOTO dungeon code -->
			<CustomBehavior File="FlyTo" X="1317.418" Y="-4713.524" Z="253.851" />
			<CustomBehavior File="FlyTo" X="1244.616" Y="-4857.312" Z="217.2103" />
			<!-- Infront of Instance Portal -->
			<CustomBehavior File="Message" Text="Starting Blue Proto-Drake - Daily Farm" LogColor="Lime" />
			<!-- Enable Loot -->
			<CustomBehavior File="RunMacro" Macro="/script SetCVar('AutoLootDefault', 1)" NumOfTimes="1" WaitTime="1000" />
			<!-- Sets Dungeon Difficulty to Normal and resets all dungeons. -->
			<CustomBehavior File="RunMacro" Macro="/script SetDungeonDifficultyID(2);" />
			<CustomBehavior File="RunMacro" Macro="/script ResetInstances();" />
			<CustomBehavior File="RunMacro" Macro="/dismount" />
			<CustomBehavior File="WaitTimer" WaitTime="1000" />
		</If>
		<If Condition="!(Me.MapId == 575)" >
			<CustomBehavior File="WaitTimer" WaitTime="1000" />
			<CustomBehavior File="RunMacro" Macro="/dismount" />
			<CustomBehavior File="MyCTM" X="1231.992" Y="-4860.223" Z="218.2878" />
			<CustomBehavior File="WaitTimer" WaitTime="15000" />
				</If>
					<!--Instance Navigation Start -->
					<If Condition="Me.MapId == 575" >
						<CustomBehavior File="UserSettings" FindVendorsAutomatically="False" LootMobs="False" PullDistance="1" />
					    <RunTo X="549.7104" Y="-327.2530" Z="110.2379"  />
					    <RunTo X="519.1378" Y="-326.6814" Z="109.6088"  />
					    <RunTo X="480.1424" Y="-297.1634" Z="104.7108"  />
					    <RunTo X="480.6522" Y="-266.8499" Z="104.7234"  />
					    <RunTo X="473.5574" Y="-252.0636" Z="104.5205"  />
					    <RunTo X="457.2629" Y="-247.5769" Z="104.7716"  />
					    <RunTo X="396.5730" Y="-247.6785" Z="104.9244"  />
					    <RunTo X="354.1042" Y="-242.1342" Z="104.7084"  />
					    <RunTo X="336.3930" Y="-244.2848" Z="104.8721"  />
					    <RunTo X="314.4727" Y="-259.3076" Z="104.6439"  />
					    <RunTo X="314.3481" Y="-265.9623" Z="104.7293"  />
					    <RunTo X="313.1069" Y="-291.0924" Z="104.7165"  />
					    <RunTo X="275.0621" Y="-289.8811" Z="104.7161"  />
					    <RunTo X="274.3768" Y="-309.4502" Z="95.4770"  />
					    <RunTo X="271.6772" Y="-346.0948" Z="86.4449"  />
					    <RunTo X="253.8774" Y="-345.6357" Z="84.6786"  />
					    <RunTo X="236.8543" Y="-345.0736" Z="80.7362"  />
					    <RunTo X="236.4365" Y="-368.3031" Z="75.0807"  />
					    <RunTo X="259.1963" Y="-401.3184" Z="81.6342"  />
					    <RunTo X="279.8812" Y="-396.6331" Z="89.9887"  />
					    <RunTo X="278.7823" Y="-383.1464" Z="90.0726"  />
					    <RunTo X="252.3037" Y="-381.2644" Z="103.5730"  />
					    <RunTo X="236.6855" Y="-401.1435" Z="104.7508"  />
					    <RunTo X="235.9616" Y="-428.7502" Z="104.7404"  />
					    <RunTo X="267.8144" Y="-452.9744" Z="104.7015"  />
					    <RunTo X="300.3060" Y="-452.0946" Z="104.7349"  />
					    <RunTo X="310.6154" Y="-469.5724" Z="104.7145"  />
					    <RunTo X="309.9807" Y="-481.2166" Z="104.7388"  />



					    <RunTo X="309.4785" Y="-508.1805" Z="104.381" />
					    <If Condition="Chance(28.0)"> <!-- Random easteregg code to make the bot more human-like -->
						    <CustomBehavior File="NoCombatMoveTo" X="370.7579" Y="-511.7003" Z="104.875" />
						    <CustomBehavior File="RunMacro" Macro="/y LEEERROOOOOYYY JEENNNKIINNNS" />
						</If>
					    <CustomBehavior File="NoCombatMoveTo" X="476.2533" Y="-503.8509" Z="104.7238" />
					    <!-- ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().Any(u =&gt; u.Entry == 26893 &amp;&amp; u.IsValid) : Old method-->

						<While Condition="Object(26893, o => o.IsValid) != null">
							<While Condition="!HasItem(37372) &amp;&amp; (Object(26893, o => o.IsValid) != null)">
								<CustomBehavior File="RunLikeHell" AllowCombat="false" UseCTM="true" >
									<Hotspot X="477.2179" Y="-504.6097" Z="104.7244" /><!-- Relocate -->
								</CustomBehavior>
								<CustomBehavior File="WaitTimer" WaitTime="500" />
								<While Condition="(Object(192539, o => o.IsValid) != null) &amp;&amp; (Object(26893, o => o.IsValid) != null)" >
									<CustomBehavior File="InteractWith" WaitForNpcs="false" IgnoreCombat="true" NumOfTimes="1" CollectionDistance="30" MobId="192539" X="476.2533" Y="-503.8509" Z="104.7238" />
								</While>
							</While>
							<While Condition="HasItem(37372) &amp;&amp; (Object(26893, o => o.IsValid) != null)" >
								<If Condition="(Object(26893, o => o.Location.Distance(new WoWPoint(520.4827, -541.5633, 119.8416)) &lt;= 35) != null) &amp;&amp; (Object(26893, o => o.IsValid) != null)">
									<DisableBehavior Name="Combat" />
		 							<CustomBehavior File="InteractWith" WaitForNpcs="false" NumOfTimes="3" MobId1="192176" MobId2="192177" X="485.5264" Y="-523.3635" Z="104.7237" />
		 							<EnableBehavior Name="Combat" />
								</If>
								<If Condition="(Object(26893, o => o.Location.Distance(new WoWPoint(520.4827, -541.5633, 119.8416)) &gt; 36) != null) &amp;&amp; (Object(26893, o => o.IsValid) != null)">
									<CustomBehavior File="RunLikeHell" AllowCombat="false" UseCTM="true" >
										<Hotspot X="477.2179" Y="-504.6097" Z="104.7244" /><!-- Relocate -->
									</CustomBehavior>
									<CustomBehavior File="InteractWith" WaitForNpcs="false" IgnoreCombat="true" CollectionDistance="20" MobId="192539" X="476.2533" Y="-503.8509" Z="104.7238" />
									<CustomBehavior File="WaitTimer" WaitTime="500" />
								</If>
							</While>
						</While>
						<EnableBehavior Name="Combat" />
						<EnableBehavior Name="Pull" />
						<If Condition="(HasItem(37372))" >
							<CustomBehavior File="Message" Text="\nLook's like we're finished!\nThrowing away extra harpoons." LogColor="Green" />
							<CustomBehavior File="Misc\RunLUA" Lua="local item,l,i=&quot;37372&quot; for b=0,4 do for s=1,GetContainerNumSlots(b)do l=GetContainerItemLink(b,s)i=l and l:match(&quot;item:(%d+)&quot;)if i==item then PickupContainerItem(b,s)DeleteCursorItem()end end end" />
							<CustomBehavior File="WaitTimer" WaitTime="1000" />
						</If>
						<CustomBehavior File="InteractWith" MobId="26693" WaitForNpcs="true" MobState="Dead" InteractByLooting="true" Range="1" X="477.9009" Y="-510.1298" Z="104.7232" />
						<RunTo X="478.0739" Y="-516.3156" Z="104.7221" /> <!-- Incase bot chased down strays -->
					    <RunTo X="309.9807" Y="-481.2166" Z="104.7388"  />
						<If Condition="(HasItem(44151))" >
							<CustomBehavior File="Message" Text="\n\nCongratulations!\nYou are now the owner of a fresh new Blue Proto-Drake!" LogColor="Yellow" />
						</If>
						<If Condition="(!HasItem(44151))" >
							<CustomBehavior File="Message" Text="\n\nThe proto-drake did not drop.\n\nBetter luck next time though!" LogColor="Red" />
						</If>

						<CustomBehavior File="UserSettings" FindVendorsAutomatically="False" LootMobs="False" PullDistance="1" />
					    <RunTo X="310.6154" Y="-469.5724" Z="104.7145"  />
					    <RunTo X="267.8144" Y="-452.9744" Z="104.7015"  />
					    <RunTo X="237.7455" Y="-458.7974" Z="105.4818"  />
					    <RunTo X="578.2748" Y="-327.8182" Z="110.1424"  />
					    <CustomBehavior File="MyCTM" X="590.7843" Y="-328.0943" Z="110.1454"  />
						<CustomBehavior File="WaitTimer" WaitTime="15000" />
						<!-- Instance Coordination Complete -->
						<CustomBehavior File="RunMacro" Macro="/script SetDungeonDifficultyID(1);" />
					</If>
	</If>

	<If Condition="!HasItem(63040) &amp;&amp; !Me.KnowsSpell(88742)" > <!-- Drake of the North Wind -->
		<CustomBehavior File="Message" Text="\nLooks like we don't have the Drake of the North Wind..\nLet's get it!" LogColor="Yellow" />
		<CustomBehavior File="RunMacro" Macro="/script SetDungeonDifficultyID(1);" />

		<While Condition="!(Me.MapId == 1)" >
				<If Condition="Me.Class == WoWClass.Mage &amp;&amp; Me.IsAlliance" >
					<CustomBehavior File="ForcedDismount" />
					<CustomBehavior File="Misc\RunLua" Lua="CastSpellByID(49359);" />
					<CustomBehavior File="Message" Text="Teleporting to Theramore." LogColor="Yellow" />
					<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="Me.MapId == 1" />
				</If>
				<If Condition="Me.Class == WoWClass.Mage &amp;&amp; Me.IsHorde" >
					<CustomBehavior File="ForcedDismount" />
					<CustomBehavior File="Misc\RunLua" Lua="CastSpellByID(3567);" />
					<CustomBehavior File="Message" Text="Teleporting to Orgrimmar." LogColor="Yellow" />
					<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="Me.MapId == 1" />
				</If>
					<If Condition="Me.IsAlliance" >
					<!-- Outland move to and use portal in shat -->
						<If Condition="Me.MapId == 530" >
						<CustomBehavior File="Message" Text="Going to Stormwind." LogColor="Lime" />
							<CustomBehavior File="FlyTo" X="-248.064" Y="930.2079" Z="84.37978" DestName="BC Portal" />
							<CustomBehavior File="MyCTM" X="-247.1655" Y="897.484" Z="84.3497" />
							<CustomBehavior File="WaitTimer" WaitTime="5000"/>
							<While Condition="Me.MapId == 530" >
								<CustomBehavior File="MyCTM" X="-245.7161" Y="896.1308" Z="84.3497" />
								<CustomBehavior File="WaitTimer" WaitTime="5000"/>
							</While>
							<CustomBehavior File="WaitTimer" WaitTime="10000"/>
						</If>
						<!-- Northrend, go home from borean -->
						<If Condition="Me.MapId == 571" >
						<CustomBehavior File="Message" Text="Going to Stormwind." LogColor="Lime" />
							<If Condition="(HasSpell(54197))">
								<CustomBehavior File="FlyTo" DestName="fly my minions fly" X="2236.118" Y="5145.615" Z="5.346904"  />
							</If>
							<CustomBehavior File="UseTransport" TransportId="190536"
											WaitAtX="2234.375" WaitAtY="5132.568" WaitAtZ="5.343217" 
											TransportStartX="2218.391" TransportStartY="5119.589" TransportStartZ="0.04" 
											StandOnX="2223.174" StandOnY="5118.869" StandOnZ="9.43335"
											TransportEndX="-8288.816" TransportEndY="1424.703" TransportEndZ="0.04" 
											GetOffX="-8300.08" GetOffY="1405.158" GetOffZ="4.422395" />
						</If>
						<!-- Kalimdor boat from Ratchet. -->
						<If Condition="Me.MapId == 1" >
						<CustomBehavior File="Message" Text="Going to Stormwind." LogColor="Lime" />
							<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
								<CustomBehavior File="FlyTo" X="-996.8669" Y="-3826.07" Z="5.536246" />
							</If>
							<If Condition="!SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
								<RunTo X="-996.8669" Y="-3826.07" Z="5.536246" />
							</If>
							<CustomBehavior File="UseTransport" TransportId="20808"
											WaitAtX="-996.8669" WaitAtY="-3826.07" WaitAtZ="5.536246" 
											TransportStartX="-1005.613" TransportStartY="-3841.648" TransportStartZ="0.01553879"
											StandOnX="-997.3311" StandOnY="-3836.707" StandOnZ="6.030852"
											TransportEndX="-14277.75" TransportEndY="582.8661" TransportEndZ="0.03330701"
											GetOffX="-14280.88" GetOffY="566.6268" GetOffZ="6.979454" />
						</If>
						<!-- Deepholm, Taking portal. -->
						<If Condition="Me.MapId == 646" >
						<CustomBehavior File="Message" Text="Going to Stormwind." LogColor="Lime" />
							<CustomBehavior File="FlyTo" X="846.4727" Y="483.7805" Z="-19.13363" />
							<CustomBehavior File="FlyTo" X="918.0795" Y="503.5825" Z="-49.25048" />
							<RunTo X="973.6232" Y="570.9096" Z="-46.0024" />
							<CustomBehavior File="InteractWith" MobId="205272" ObjectType="Gameobject" Range="4" X="973.6232" Y="570.9096" Z="-46.0024" />
							<CustomBehavior File="WaitTimer" WaitTime="8000" GoalText="Waiting for port {TimeRemaining}" />
						</If>
						<!-- Pandaland, Taking portal. -->
						<If Condition="Me.MapId == 870" >
						<CustomBehavior File="Message" Text="Going to Stormwind." LogColor="Lime" />
							<CustomBehavior File="FlyTo" X="-311.6545" Y="-1776.63" Z="62.67051" />
							<RunTo X="-311.6545" Y="-1776.63" Z="62.67051" />
							<CustomBehavior File="InteractWith" MobId="210805" ObjectType="Gameobject" Range="4" />
							<CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting for zone {TimeRemaining}" />
						</If>
						<!-- Homeland, Ally Eastern Kingdom -->
						<If Condition="Me.MapId == 0" >
							
							<If condition="false">
							<CustomBehavior File="Message" Text="Going to Vikingland." LogColor="Lime" />
							
							<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
								<CustomBehavior File="FlyTo" X="-8300.08" Y="1405.158" Z="4.422395" />
							</If>
							<CustomBehavior File="UseTransport" TransportId="190536" 
											WaitAtX="-8300.08" WaitAtY="1405.158" WaitAtZ="4.422395"
											GetOffX="2234.375" GetOffY="5132.568" GetOffZ="5.343217"
											StandOnX="-8293.091" StandOnY="1421.008" StandOnZ="9.480089"
											TransportStartX="-8288.816" TransportStartY="1424.703" TransportStartZ="0.04" 
											TransportEndX="2218.391" TransportEndY="5119.589" TransportEndZ="0.04" />	
							<CustomBehavior File="WaitTimer" WaitTime="5000" />
							</If>
							
							<If condition="false">
							<CustomBehavior File="Message" Text="Going to Outland." LogColor="Lime" />
							
							<While Condition="Me.MapId == 0" >
								<If Condition="Me.MapId == 0" >
										<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
											<CustomBehavior File="FlyTo" X="-11895.44" Y="-3206.936" Z="-14.64132" />
										</If>
										<RunTo X="-11895.44" Y="-3206.936" Z="-14.64132" />
										<CustomBehavior File="WaitTimer" WaitTime="1000" />
									</If>
									<If Condition="Me.MapId == 0" >
										<CustomBehavior File="MyCTM" X="-11908.09" Y="-3208.854" Z="-14.83002" />
										<CustomBehavior File="WaitTimer" WaitTime="5000" />
									</If>
									<If Condition="Me.MapId == 0" >
										<CustomBehavior File="WaitTimer" WaitTime="5000" />
									</If>
							</While>
							</If>
							
							<If condition="true">
							<CustomBehavior File="Message" Text="Going to Kalimdor." LogColor="Lime" />
							
							<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
								<CustomBehavior File="FlyTo" X="-14288.29" Y="549.3284" Z="8.689642" />
							</If>
							<If Condition="!SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
								<Runto X="-14288.29" Y="549.3284" Z="8.689642" />
							</If>
							<CustomBehavior File="ForcedDismount" />
							<!-- BB dock to Ratchet -->
							<CustomBehavior File="UseTransport" TransportId="20808"
											WaitAtX="-14280.88" WaitAtY="566.6268" WaitAtZ="6.979454" 
											TransportStartX="-14277.75" TransportStartY="582.8661" TransportStartZ="0.01553879"
											StandOnX="-14270.46" StandOnY="579.9881" StandOnZ="6.088587"
											TransportEndX="-1005.613" TransportEndY="-3841.648" TransportEndZ="0.03330701"
											GetOffX="-996.8669" GetOffY="-3826.07" GetOffZ="5.536246" />
							</If>
							
							<If condition="false">
							<CustomBehavior File="Message" Text="Going to Pandaland." LogColor="Lime" />
							
							<CustomBehavior File="FlyTo" X="-8200.323" Y="527.858" Z="116.7516"  />
							<CustomBehavior File="InteractWith" MobId="215457" ObjectType="Gameobject" Range="4" />
							<CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting for zone {TimeRemaining}" />
							<!-- Going to Pandaland Stop -->
							</If>	
							
							<!-- No profiles in deepholm-->
								
						</If>
					</If>
					<!-- Horde part -->
					<If Condition="Me.IsHorde" >
						<!-- Outland move to and use portal in shat -->
						<If Condition="Me.MapId == 530" >
						<CustomBehavior File="Message" Text="Going to Kalimdor." LogColor="Lime" />
							<While Condition="Me.MapId == 530" >
								<CustomBehavior File="FlyTo" DestName="Org portal" X="-1956.413" Y="5383.551" Z="-12.42774" />
								<CustomBehavior File="ForcedDismount" />

								<RunTo X="-1898.169" Y="5395.958" Z="-12.42774" />
								<CustomBehavior File="InteractWith" MobId="183323" ObjectType="Gameobject" Range="4" />
								<CustomBehavior File="WaitTimer" WaitTime="15000" GoalText="Waiting for zone {TimeRemaining}" />
							</While>
							<RunTo X="1896.122" Y="-4489.93" Z="23.84045" />
							<CustomBehavior File="FlyTo" X="1882.573" Y="-4548.733" Z="110.4602" />
						</If>
						<!-- Northrend, go home from borean -->
						<If Condition="Me.MapId == 571" >
						<CustomBehavior File="Message" Text="Going to Kalimdor." LogColor="Lime" />
							<If Condition="(HasSpell(54197))">
								<CustomBehavior File="FlyTo" DestName="Borean Tundra" X="2708.396" Y="6066.991" Z="109.617" />
								<CustomBehavior File="FlyTo" DestName="Warsong Hold, BT" X="2740.837" Y="6097.529" Z="76.88604" />
							</If>
							<CustomBehavior File="Message" Text="Running to Borean Zepp to Org" LogColor="Cornflowerblue" />
							<RunTo X="2829.74" Y="6179.48" Z="121.9793" />
							<CustomBehavior File="Message" Text="Waiting for Borean Zepp to Org - don't interact!" LogColor="Orange" />
							<CustomBehavior File="UseTransport" TransportId="186238"
											WaitAtX="2836.831" WaitAtY="6185.15" WaitAtZ="121.9923" 
											TransportStartX="2837.908" TransportStartY="6187.443" TransportStartZ="140.1648" 
											StandOnX="2844.171" StandOnY="6191.577" StandOnZ="122.3017" 
											TransportEndX="1775.066" TransportEndY="-4299.745" TransportEndZ="151.0326" 
											GetOffX="1763.203" GetOffY="-4284.529" GetOffZ="133.1072" />
						</If>
						<!-- From Eastern Kingdom going home -->
						<If Condition="Me.MapId == 0" >
						<CustomBehavior File="Message" Text="Going to Kalimdor." LogColor="Lime" />
							<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
								<CustomBehavior File="FlyTo" X="2039.925" Y="273.7229" Z="142.3792" />
								<CustomBehavior File="FlyTo" X="2067.174" Y="284.9927" Z="97.03151" />
							</If>
							<RunTo X="2070.155" Y="289.2588" Z="97.0315" />
							<CustomBehavior File="UseTransport"
											TransportId="164871"
											WaitAtX="2070.155" WaitAtY="289.2588" WaitAtZ="97.0315" 
											TransportStartX="2062.376" TransportStartY="292.998" TransportStartZ="114.973"
											TransportEndX="1833.509" TransportEndY="-4391.543" TransportEndZ="152.7679"
											StandOnX="2067.979" StandOnY="295.2747" StandOnZ="97.23677" 
											GetOffX="1840.225" GetOffY="-4390.912" GetOffZ="135.2337" />
						</If>
						<!-- Deepholm, Taking portal. -->
						<If Condition="Me.MapId == 646" >
						<CustomBehavior File="Message" Text="Going to Kalimdor." LogColor="Lime" />
							<CustomBehavior File="FlyTo" X="846.4727" Y="483.7805" Z="-19.13363" />
							<CustomBehavior File="FlyTo" X="918.0795" Y="503.5825" Z="-49.25048" />
							<RunTo X="990.1199" Y="457.7099" Z="-44.2598" />
							<CustomBehavior File="InteractWith" MobId="205273" ObjectType="Gameobject" Range="4" X="990.1199" Y="457.7099" Z="-44.2598" />
							<CustomBehavior File="WaitTimer" WaitTime="8000" GoalText="Waiting for port {TimeRemaining}" />
						</If>
						<!-- Pandaland, Taking portal. -->
						<If Condition="Me.MapId == 870" >
						<CustomBehavior File="Message" Text="Going to Kalimdor." LogColor="Lime" />
						
							<CustomBehavior File="FlyTo" X="2924.921" Y="-510.5903" Z="268.8555" />
							<RunTo X="2924.921" Y="-510.5903" Z="268.8555" />
							<CustomBehavior File="InteractWith" MobId="210804" ObjectType="Gameobject" Range="4" />
							<CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting for zone {TimeRemaining}" />
						</If>
						<!-- Homeland, Horde Kalimdor -->
						<If Condition="Me.MapId == 1" >

							<If condition="false">
							<CustomBehavior File="Message" Text="Going to Northrend." LogColor="Lime" />
							
								<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
									<CustomBehavior File="FlyTo" X="1736.402" Y="-4283.072" Z="190.7621" />
									<CustomBehavior File="FlyTo" X="1754.089" Y="-4278.742" Z="133.0416" />
									<CustomBehavior File="ForcedDismount" />
								</If>
								<RunTo X="1763.389" Y="-4283.858" Z="133.1073" />
								
								<CustomBehavior File="Message" Text="Waiting for Org Zepp to Borean - don't interact!" LogColor="Orange" />
						
								<CustomBehavior File="UseTransport" TransportId="186238"
												WaitAtX="1763.066" WaitAtY="-4284.396" WaitAtZ="133.1081" 
												TransportStartX="1775.066" TransportStartY="-4299.745" TransportStartZ="151.0326" 
												StandOnX="1770.22" StandOnY="-4292.056" StandOnZ="133.1872" 
												TransportEndX="2837.908" TransportEndY="6187.443" TransportEndZ="140.1648" 
												GetOffX="2836.831" GetOffY="6185.15" GetOffZ="121.9923" />
								<RunTo X="2740.837" Y="6097.529" Z="76.88604" />
							</If>
							
							<If condition="false">
							<CustomBehavior File="Message" Text="On out way to Outland." LogColor="Lime" />
							<CustomBehavior File="Message" Text="Going by boat in Ratchet." LogColor="Lime" />
							
							<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
								<CustomBehavior File="FlyTo" X="-996.8669" Y="-3826.07" Z="5.536246" />
							</If>
							<If Condition="!SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
								<RunTo X="-996.8669" Y="-3826.07" Z="5.536246" />
							</If>
							<CustomBehavior File="UseTransport" TransportId="20808"
											WaitAtX="-996.8669" WaitAtY="-3826.07" WaitAtZ="5.536246" 
											TransportStartX="-1005.613" TransportStartY="-3841.648" TransportStartZ="0.01553879"
											StandOnX="-997.3311" StandOnY="-3836.707" StandOnZ="6.030852"
											TransportEndX="-14277.75" TransportEndY="582.8661" TransportEndZ="0.03330701"
											GetOffX="-14280.88" GetOffY="566.6268" GetOffZ="6.979454" />
											<!-- Should now be in Eastern Kingdom -->
								<While Condition="Me.MapId == 0" >
									<If Condition="Me.MapId == 0" >
										<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
											<CustomBehavior File="FlyTo" X="-11895.44" Y="-3206.936" Z="-14.64132" />
										</If>
										<RunTo X="-11895.44" Y="-3206.936" Z="-14.64132" />
										<CustomBehavior File="WaitTimer" WaitTime="1000" />
									</If>
									<If Condition="Me.MapId == 0" >
										<CustomBehavior File="MyCTM" X="-11908.09" Y="-3208.854" Z="-14.83002" />
										<CustomBehavior File="WaitTimer" WaitTime="5000" />
									</If>
									<If Condition="Me.MapId == 0" >
										<CustomBehavior File="WaitTimer" WaitTime="5000" />
									</If>
								</While>
							</If>
							
							<If condition="false">
							<CustomBehavior File="Message" Text="Going to Eastern Kingdom." LogColor="Lime" />
							
								<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
									<CustomBehavior File="FlyTo" X="1836.794" Y="-4383.654" Z="206.7829" />
									<CustomBehavior File="FlyTo" X="1848.44" Y="-4398.829" Z="135.1602" />
									<CustomBehavior File="ForcedDismount" />
								</If>
								<RunTo X="1840.468" Y="-4392.099" Z="135.2326" />
								<CustomBehavior File="UseTransport" TransportId="164871"
												WaitAtX="1838.676" WaitAtY="-4387.965" WaitAtZ="135.2332"
												TransportStartX="1833.509" TransportStartY="-4391.543" TransportStartZ="152.7679"
												TransportEndX="2062.376" TransportEndY="292.998" TransportEndZ="114.973"
												StandOnX="1834.961" StandOnY="-4385.694" StandOnZ="135.0334" 
												GetOffX="2066.773" GetOffY="288.873" GetOffZ="97.03159" />
							</If>
							
							<If condition="false">
							<CustomBehavior File="Message" Text="Going to Pandaland." LogColor="Lime" />
							
								<CustomBehavior File="FlyTo" X="2012.948" Y="-4698.641" Z="28.60529" />
								<CustomBehavior File="InteractWith" MobId="215424" ObjectType="Gameobject" Range="4" />
								<CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting for zone {TimeRemaining}" />
								
							</If>	
							
							<!-- No profiles in deepholm-->
								
						</If>
					</If>
				<!-- 
				End transport script credit to Bengan. 
				With use of Kicks go to profiles.
				Big thanks to Kick for this.
				-->
		</While>


		<CustomBehavior File="UserSettings" LootMobs="false" PullDistance="1" />				

		<While Condition="!HasItem(63040)" >
			<If Condition="!(Me.MapId == 657) &amp;&amp; (Me.FreeBagSlots &gt; 10)" >
				<If Condition="Me.Location.Distance(new WoWPoint(-11414.14, -2282.823, 640.3994)) &gt;= 150" >
					<CustomBehavior File="Message" Text="Heading to Instance Hub" LogColor="Green" />
					<CustomBehavior File="FlyTo" X="-11065.5" Y="-2100.08" Z="253.8059" />
					<CustomBehavior File="MyCTM" X="-11473.84" Y="-2305.7" Z="604.3729" />
					<CustomBehavior File="MyCTM" X="-11499.96" Y="-2298.713" Z="607.1202" />
				</If>
				<CustomBehavior File="RunMacro" Macro="/dismount" />
				<CustomBehavior File="RunMacro" Macro="/script ResetInstances()" /> 
				<RunTo X="-11510.58" Y="-2307.878" Z="608.3931" />
				<CustomBehavior File="MyCTM" X="-11522.48" Y="-2317.246" Z="608.3938" />
				<CustomBehavior File="WaitTimer" WaitTime="15000" />
			</If>
			<If Condition="(Me.MapId == 657)" >
				<CustomBehavior File="UserSettings" LootMobs="false" PullDistance="1" />				
				<CustomBehavior File="Misc\InstanceTimer" Timer="Start" /> 
				<RunTo X="-361.2730" Y="-16.8942" Z="633.6019"  />
				<RunTo X="-418.5602" Y="-65.4939" Z="634.4308"  />
				<RunTo X="-495.3721" Y="-142.4372" Z="638.9373"  />
				<RunTo X="-565.0313" Y="-172.0795" Z="623.6596"  />
				<RunTo X="-592.3397" Y="-144.6503" Z="619.7681"  />
				<RunTo X="-593.7610" Y="-123.3016" Z="619.7549"  />
				<RunTo X="-600.3510" Y="-117.8984" Z="619.7446"  />
				<RunTo X="-613.0705" Y="-102.2320" Z="619.8513"  />
				<RunTo X="-627.6510" Y="-87.5719" Z="619.8495"  />
				<RunTo X="-642.5516" Y="-74.0804" Z="619.7435"  />
				<RunTo X="-656.0178" Y="-59.1435" Z="619.7396"  />
				<RunTo X="-670.9263" Y="-45.5518" Z="620.5067"  />
				<RunTo X="-682.3058" Y="-33.9339" Z="633.9409"  />
				<RunTo X="-697.0933" Y="-18.9764" Z="635.6717"  />
				<RunTo X="-717.9460" Y="2.3808" Z="635.6728"  />
				<RunTo X="-719.587" Y="4.32986" Z="635.6728" />
				<RunTo X="-763.7988" Y="-39.6729" Z="639.9260"  />
				<RunTo X="-770.7239" Y="-56.7269" Z="639.9260"  />
				<CustomBehavior File="MountVehOnly" VehicleMountId="45455" X="-768.213" Y="-53.6862" Z="639.926" />
				<CustomBehavior File="WaitTimer" WaitTime="6500" />
				<RunTo X="-925.1345" Y="-161.7547" Z="669.2666"  />
				<RunTo X="-940.1959" Y="-141.9585" Z="670.3910"  />
				<RunTo X="-933.5439" Y="-115.6733" Z="679.4038"  />
				<RunTo X="-950.0070" Y="-85.1376" Z="693.5498"  />
				<RunTo X="-979.7187" Y="-62.6561" Z="694.9166"  />
				<RunTo X="-991.0753" Y="-95.1430" Z="694.9166"  />
				<RunTo X="-1006.7589" Y="-97.9969" Z="694.9166"  />
				<DisableBehavior Name="Combat" />
				<RunTo X="-1032.734" Y="-75.63425" Z="698.8443" />
				<CustomBehavior File="RunMacro" Macro="/stopattack\n/cleartarget\n/targetenemy" />
				<CustomBehavior File="Misc\RunLUA" Lua="
					CastSpellByID(30455);
					CastSpellByID(115072);
					CastSpellByID(45477);
					CastSpellByID(20271);
					CastSpellByID(585);
					CastSpellByID(122475);
					CastSpellByID(8921);
					CastSpellByID(77799);
					CastSpellByID(3044);
					" />
				<CustomBehavior File="WaitTimer" WaitTime="800" />
				<If Condition="(Me.Class == WoWClass.Monk)" >
					<CustomBehavior File="WaitTimer" WaitTime="500" />
					<CustomBehavior File="Misc\RunLua" Lua="
						CastSpellByID(115073);" />
				</If>
				<If Condition="(Me.Class == WoWClass.Priest)" >
					<CustomBehavior File="WaitTimer" WaitTime="1500" />
				</If>
				<RunTo X="-1056.526" Y="-52.6046" Z="700.4836" />
				<CustomBehavior File="RunMacro" Macro="/stopattack\n/cleartarget\n/targetenemy" />
				<CustomBehavior File="Misc\RunLUA" Lua="
					CastSpellByID(30455);
					CastSpellByID(115072);
					CastSpellByID(45477);
					CastSpellByID(20271);
					CastSpellByID(585);
					CastSpellByID(122475);
					CastSpellByID(8921);
					CastSpellByID(77799);
					CastSpellByID(3044);
					" />
				<CustomBehavior File="WaitTimer" WaitTime="800" />
				<If Condition="(Me.Class == WoWClass.Monk)" >
					<CustomBehavior File="WaitTimer" WaitTime="500" />
					<CustomBehavior File="Misc\RunLua" Lua="
						CastSpellByID(115073);" />
				</If>
				<If Condition="(Me.Class == WoWClass.Priest)" >
					<CustomBehavior File="WaitTimer" WaitTime="1500" />
				</If>
				<CustomBehavior File="RunMacro" Macro="/cleartarget" />
				<EnableBehavior Name="Combat" />
				<RunTo X="-1108.587" Y="-0.7937434" Z="704.7394" />
				<RunTo X="-1127.326" Y="21.22887" Z="704.7337" />
				<CustomBehavior File="WaitTimer" WaitTime="1000" />
				<!-- Add some combat improvement/independant pulling to reduce potential mob cluser. -->
				<RunTo X="-1132.2545" Y="25.8656" Z="704.7355"  />
				<RunTo X="-1158.2803" Y="32.9170" Z="706.8401"  />
				<RunTo X="-1174.0587" Y="32.9655" Z="707.7294"  />
				<RunTo X="-1188.5182" Y="22.7586" Z="711.6937"  />
				<RunTo X="-1210.7255" Y="15.7816" Z="720.7744"  />
				<RunTo X="-1231.8027" Y="19.3161" Z="727.5157"  />
				<RunTo X="-1251.2032" Y="32.3889" Z="728.0723"  />
				<RunTo X="-1265.5320" Y="56.3467" Z="728.0723"  />
				<RunTo X="-1250.4404" Y="72.1284" Z="730.4066"  />
				<CustomBehavior File="UserSettings" LootMobs="true" LootRadius="30" PullDistance="1" />
				<!-- -1250.4404,  72.1284  before boss-->
				<RunTo X="-1197.9132" Y="56.4448" Z="734.1751"  />
				<CustomBehavior File="WaitTimer" WaitTime="1000" />
				<CustomBehavior File="InteractWith" MobId="43873" WaitForNpcs="true" MobState="Dead" InteractByLooting="true" Range="1" X="-1192.84" Y="54.5626" Z="734.1742" />
				<RunTo X="-1207.4271" Y="82.9884" Z="734.1751"  />
				<RunTo X="-1196.497" Y="110.3023" Z="740.7074" />
				<CustomBehavior File="MyCTM" X="-1189.816" Y="127.4594" Z="706.5384" TerminateWhen="Me.Z &lt; 734" />
				<CustomBehavior File="WaitTimer" WaitTime="30000" TerminateWhen="Me.Y &lt; 0" />

				<RunTo X="-339.4252" Y="13.0758" Z="626.9792" />
				<CustomBehavior File="Misc\InstanceTimer" Timer="Check" />
				<CustomBehavior File="MyCTM" X="-327.9889" Y="24.11956" Z="626.9792" />
				<CustomBehavior File="WaitTimer" WaitTime="15000" />
				<CustomBehavior File="RunMacro" Macro="/script ResetInstances()" /> 
			</If>
			<If Condition="(Me.FreeBagSlots &lt;= 10)" >
				<CustomBehavior File="Message" Text="Moving to Sell, Repair, Mail" LogColor="Lime" />
				<RunTo X="-11486.42" Y="-2305.467" Z="605.1804" />
				<CustomBehavior File="FlyTo" X="-9407.074" Y="-909.1765" Z="112.5413" />
				<SetVendor>
					<Vendors>
						<Vendor Name="Blacksmith Abasi" Entry="48617" Type="Repair" X="-9404.68" Y="-906.438" Z="112.5403" />
					</Vendors>
				</SetVendor>
				<CustomBehavior File="ForceSetVendor" DoMail="False" DoSell="True" DoRepair="True" />
				<CustomBehavior File="WaitTimer" WaitTime="1000" />
				<CustomBehavior File="FlyTo" X="-9453.447" Y="-938.5175" Z="118.9775" />
				<CustomBehavior File="ForceSetVendor" DoMail="True" DoSell="False" DoRepair="False" />
				<CustomBehavior File="WaitTimer" WaitTime="1000" />
				<ClearVendor />
			</If>
		</While>
	</If>

	<If Condition="!HasItem(63040) &amp;&amp; !Me.KnowsSpell(88742)" > <!-- Vitreous Stone Drake -->
		<CustomBehavior File="Message" Text="\nLooks like we don't have the Vitreous Stone Drake..\nLet's get it!" LogColor="Yellow" />

		<If Condition="(Me.IsHorde &amp;&amp; Me.MapId != 1) || (Me.IsAlliance &amp;&amp; Me.MapId != 0)" >
				<If Condition="Me.Class == WoWClass.Mage &amp;&amp; Me.IsAlliance" >
					<CustomBehavior File="ForcedDismount" />
					<CustomBehavior File="Misc\RunLua" Lua="CastSpellByID(3561);" />
					<CustomBehavior File="Message" Text="Teleporting to Stormwind." LogColor="Yellow" />
					<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="Me.MapId == 0" />
				</If>
				<If Condition="Me.Class == WoWClass.Mage &amp;&amp; Me.IsHorde" >
					<CustomBehavior File="ForcedDismount" />
					<CustomBehavior File="Misc\RunLua" Lua="CastSpellByID(3567);" />
					<CustomBehavior File="Message" Text="Teleporting to Orgrimmar." LogColor="Yellow" />
					<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="Me.MapId == 1" />
				</If>
					<If Condition="Me.IsAlliance" >
					<!-- Outland move to and use portal in shat -->
						<If Condition="Me.MapId == 530" >
						<CustomBehavior File="Message" Text="Going to Stormwind." LogColor="Lime" />
							<CustomBehavior File="FlyTo" X="-248.064" Y="930.2079" Z="84.37978" DestName="BC Portal" />
							<CustomBehavior File="MyCTM" X="-247.1655" Y="897.484" Z="84.3497" />
							<CustomBehavior File="WaitTimer" WaitTime="5000"/>
							<While Condition="Me.MapId == 530" >
								<CustomBehavior File="MyCTM" X="-245.7161" Y="896.1308" Z="84.3497" />
								<CustomBehavior File="WaitTimer" WaitTime="5000"/>
							</While>
							<CustomBehavior File="WaitTimer" WaitTime="10000"/>
						</If>
						<!-- Northrend, go home from borean -->
						<If Condition="Me.MapId == 571" >
						<CustomBehavior File="Message" Text="Going to Stormwind." LogColor="Lime" />
							<If Condition="(HasSpell(54197))">
								<CustomBehavior File="FlyTo" DestName="fly my minions fly" X="2236.118" Y="5145.615" Z="5.346904"  />
							</If>
							<CustomBehavior File="UseTransport" TransportId="190536"    
											WaitAtX="2234.375" WaitAtY="5132.568" WaitAtZ="5.343217" 
											TransportStartX="2218.391" TransportStartY="5119.589" TransportStartZ="0.04" 
											StandOnX="2223.174" StandOnY="5118.869" StandOnZ="9.43335"
											TransportEndX="-8288.816" TransportEndY="1424.703" TransportEndZ="0.04" 
											GetOffX="-8300.08" GetOffY="1405.158" GetOffZ="4.422395" />
						</If>
						<!-- Kalimdor boat from Ratchet. -->
						<If Condition="Me.MapId == 1" >
						<CustomBehavior File="Message" Text="Going to Stormwind." LogColor="Lime" />
							<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
								<CustomBehavior File="FlyTo" X="-996.8669" Y="-3826.07" Z="5.536246" />
							</If>
							<If Condition="!SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
								<RunTo X="-996.8669" Y="-3826.07" Z="5.536246" />
							</If>
							<CustomBehavior File="UseTransport" TransportId="20808"
											WaitAtX="-996.8669" WaitAtY="-3826.07" WaitAtZ="5.536246" 
											TransportStartX="-1005.613" TransportStartY="-3841.648" TransportStartZ="0.01553879"
											StandOnX="-997.3311" StandOnY="-3836.707" StandOnZ="6.030852"
											TransportEndX="-14277.75" TransportEndY="582.8661" TransportEndZ="0.03330701"
											GetOffX="-14280.88" GetOffY="566.6268" GetOffZ="6.979454" />
						</If>
						<!-- Deepholm, Taking portal. -->
						<If Condition="Me.MapId == 646" >
						<CustomBehavior File="Message" Text="Going to Stormwind." LogColor="Lime" />
							<CustomBehavior File="FlyTo" X="846.4727" Y="483.7805" Z="-19.13363" />
							<CustomBehavior File="FlyTo" X="918.0795" Y="503.5825" Z="-49.25048" />
							<RunTo X="973.6232" Y="570.9096" Z="-46.0024" />
							<CustomBehavior File="InteractWith" MobId="205272" ObjectType="Gameobject" Range="4" X="973.6232" Y="570.9096" Z="-46.0024" />
							<CustomBehavior File="WaitTimer" WaitTime="8000" GoalText="Waiting for port {TimeRemaining}" />
						</If>
						<!-- Pandaland, Taking portal. -->
						<If Condition="Me.MapId == 870" >
						<CustomBehavior File="Message" Text="Going to Stormwind." LogColor="Lime" />
							<CustomBehavior File="FlyTo" X="-311.6545" Y="-1776.63" Z="62.67051" />
							<RunTo X="-311.6545" Y="-1776.63" Z="62.67051" />
							<CustomBehavior File="InteractWith" MobId="210805" ObjectType="Gameobject" Range="4" />
							<CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting for zone {TimeRemaining}" />
						</If>
						<!-- Homeland, Ally Eastern Kingdom -->
						<If Condition="Me.MapId == 0" >

							<If condition="false"><!-- If Set true will go to Northrend -->
							<CustomBehavior File="Message" Text="Going to Vikingland." LogColor="Lime" />
							
							<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
								<CustomBehavior File="FlyTo" X="-8300.08" Y="1405.158" Z="4.422395" />
							</If>
							<CustomBehavior File="UseTransport" TransportId="190536" 
											WaitAtX="-8300.08" WaitAtY="1405.158" WaitAtZ="4.422395"
											GetOffX="2234.375" GetOffY="5132.568" GetOffZ="5.343217"
											StandOnX="-8293.091" StandOnY="1421.008" StandOnZ="9.480089"
											TransportStartX="-8288.816" TransportStartY="1424.703" TransportStartZ="0.04" 
											TransportEndX="2218.391" TransportEndY="5119.589" TransportEndZ="0.04" />	
							<CustomBehavior File="WaitTimer" WaitTime="5000" />
							</If>
							
							<If condition="false"><!-- If Set true will go to Outland -->
							<CustomBehavior File="Message" Text="Going to Outland." LogColor="Lime" />
							
							<While Condition="Me.MapId == 0" >
								<If Condition="Me.MapId == 0" >
										<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
											<CustomBehavior File="FlyTo" X="-11895.44" Y="-3206.936" Z="-14.64132" />
										</If>
										<RunTo X="-11895.44" Y="-3206.936" Z="-14.64132" />
										<CustomBehavior File="WaitTimer" WaitTime="1000" />
									</If>
									<If Condition="Me.MapId == 0" >
										<CustomBehavior File="MyCTM" X="-11908.09" Y="-3208.854" Z="-14.83002" />
										<CustomBehavior File="WaitTimer" WaitTime="5000" />
									</If>
									<If Condition="Me.MapId == 0" >
										<CustomBehavior File="WaitTimer" WaitTime="5000" />
									</If>
							</While>
							</If>
							
							<If condition="false"> <!-- If Set true will go to Kalimdor -->
							<CustomBehavior File="Message" Text="Going to Kalimdor." LogColor="Lime" />
							
							<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
								<CustomBehavior File="FlyTo" X="-14288.29" Y="549.3284" Z="8.689642" />
							</If>
							<If Condition="!SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
								<Runto X="-14288.29" Y="549.3284" Z="8.689642" />
							</If>
							<CustomBehavior File="ForcedDismount" />
							<!-- BB dock to Ratchet -->
							<CustomBehavior File="UseTransport" TransportId="20808"
											WaitAtX="-14280.88" WaitAtY="566.6268" WaitAtZ="6.979454" 
											TransportStartX="-14277.75" TransportStartY="582.8661" TransportStartZ="0.01553879"
											StandOnX="-14270.46" StandOnY="579.9881" StandOnZ="6.088587"
											TransportEndX="-1005.613" TransportEndY="-3841.648" TransportEndZ="0.03330701"
											GetOffX="-996.8669" GetOffY="-3826.07" GetOffZ="5.536246" />
							</If>
							
							<If condition="false"><!-- If Set true will go to Pandaland -->
							<CustomBehavior File="Message" Text="Going to Pandaland." LogColor="Lime" />
							
							<CustomBehavior File="FlyTo" X="-8200.323" Y="527.858" Z="116.7516"  />
							<CustomBehavior File="InteractWith" MobId="215457" ObjectType="Gameobject" Range="4" />
							<CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting for zone {TimeRemaining}" />
							<!-- Going to Pandaland Stop -->
							</If>	
							
							<!-- No profiles in deepholm-->
								
						</If>
					</If>
					<!-- Horde part -->
					<If Condition="Me.IsHorde" >
						<!-- Outland move to and use portal in shat -->
						<If Condition="Me.MapId == 530" >
						<CustomBehavior File="Message" Text="Going to Kalimdor." LogColor="Lime" />
							<While Condition="Me.MapId == 530" >
								<CustomBehavior File="FlyTo" DestName="Org portal" X="-1956.413" Y="5383.551" Z="-12.42774" />
								<CustomBehavior File="ForcedDismount" />

								<RunTo X="-1898.169" Y="5395.958" Z="-12.42774" />
								<CustomBehavior File="InteractWith" MobId="183323" ObjectType="Gameobject" Range="4" />
								<CustomBehavior File="WaitTimer" WaitTime="15000" GoalText="Waiting for zone {TimeRemaining}" />
							</While>
							<RunTo X="1896.122" Y="-4489.93" Z="23.84045" />
							<CustomBehavior File="FlyTo" X="1882.573" Y="-4548.733" Z="110.4602" />
						</If>
						<!-- Northrend, go home from borean -->
						<If Condition="Me.MapId == 571" >
						<CustomBehavior File="Message" Text="Going to Kalimdor." LogColor="Lime" />
							<If Condition="(HasSpell(54197))">
								<CustomBehavior File="FlyTo" DestName="Borean Tundra" X="2708.396" Y="6066.991" Z="109.617" />
								<CustomBehavior File="FlyTo" DestName="Warsong Hold, BT" X="2740.837" Y="6097.529" Z="76.88604" />
							</If>
							<CustomBehavior File="Message" Text="Running to Borean Zepp to Org" LogColor="Cornflowerblue" />
							<RunTo X="2829.74" Y="6179.48" Z="121.9793" />
							<CustomBehavior File="Message" Text="Waiting for Borean Zepp to Org - don't interact!" LogColor="Orange" />
							<CustomBehavior File="UseTransport" TransportId="186238"
											WaitAtX="2836.831" WaitAtY="6185.15" WaitAtZ="121.9923" 
											TransportStartX="2837.908" TransportStartY="6187.443" TransportStartZ="140.1648" 
											StandOnX="2844.171" StandOnY="6191.577" StandOnZ="122.3017" 
											TransportEndX="1775.066" TransportEndY="-4299.745" TransportEndZ="151.0326" 
											GetOffX="1763.203" GetOffY="-4284.529" GetOffZ="133.1072" />
						</If>
						<!-- From Eastern Kingdom going home -->
						<If Condition="Me.MapId == 0" >
						<CustomBehavior File="Message" Text="Going to Kalimdor." LogColor="Lime" />
							<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
								<CustomBehavior File="FlyTo" X="2039.925" Y="273.7229" Z="142.3792" />
								<CustomBehavior File="FlyTo" X="2067.174" Y="284.9927" Z="97.03151" />
							</If>
							<RunTo X="2070.155" Y="289.2588" Z="97.0315" />
							<CustomBehavior File="UseTransport"
											TransportId="164871"
											WaitAtX="2070.155" WaitAtY="289.2588" WaitAtZ="97.0315" 
											TransportStartX="2062.376" TransportStartY="292.998" TransportStartZ="114.973"
											TransportEndX="1833.509" TransportEndY="-4391.543" TransportEndZ="152.7679"
											StandOnX="2067.979" StandOnY="295.2747" StandOnZ="97.23677" 
											GetOffX="1840.225" GetOffY="-4390.912" GetOffZ="135.2337" />
						</If>
						<!-- Deepholm, Taking portal. -->
						<If Condition="Me.MapId == 646" >
						<CustomBehavior File="Message" Text="Going to Kalimdor." LogColor="Lime" />
							<CustomBehavior File="FlyTo" X="846.4727" Y="483.7805" Z="-19.13363" />
							<CustomBehavior File="FlyTo" X="918.0795" Y="503.5825" Z="-49.25048" />
							<RunTo X="990.1199" Y="457.7099" Z="-44.2598" />
							<CustomBehavior File="InteractWith" MobId="205273" ObjectType="Gameobject" Range="4" X="990.1199" Y="457.7099" Z="-44.2598" />
							<CustomBehavior File="WaitTimer" WaitTime="8000" GoalText="Waiting for port {TimeRemaining}" />
						</If>
						<!-- Pandaland, Taking portal. -->
						<If Condition="Me.MapId == 870" >
						<CustomBehavior File="Message" Text="Going to Kalimdor." LogColor="Lime" />
						
							<CustomBehavior File="FlyTo" X="2924.921" Y="-510.5903" Z="268.8555" />
							<RunTo X="2924.921" Y="-510.5903" Z="268.8555" />
							<CustomBehavior File="InteractWith" MobId="210804" ObjectType="Gameobject" Range="4" />
							<CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting for zone {TimeRemaining}" />
						</If>
						<!-- Homeland, Horde Kalimdor -->
						<If Condition="Me.MapId == 1" >

							<If condition="false"><!-- If Set true will go to Northrend -->
							<CustomBehavior File="Message" Text="Going to Northrend." LogColor="Lime" />
							
								<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
									<CustomBehavior File="FlyTo" X="1736.402" Y="-4283.072" Z="190.7621" />
									<CustomBehavior File="FlyTo" X="1754.089" Y="-4278.742" Z="133.0416" />
									<CustomBehavior File="ForcedDismount" />
								</If>
								<RunTo X="1763.389" Y="-4283.858" Z="133.1073" />
								
								<CustomBehavior File="Message" Text="Waiting for Org Zepp to Borean - don't interact!" LogColor="Orange" />
						
								<CustomBehavior File="UseTransport" TransportId="186238"
												WaitAtX="1763.066" WaitAtY="-4284.396" WaitAtZ="133.1081" 
												TransportStartX="1775.066" TransportStartY="-4299.745" TransportStartZ="151.0326" 
												StandOnX="1770.22" StandOnY="-4292.056" StandOnZ="133.1872" 
												TransportEndX="2837.908" TransportEndY="6187.443" TransportEndZ="140.1648" 
												GetOffX="2836.831" GetOffY="6185.15" GetOffZ="121.9923" />
								<RunTo X="2740.837" Y="6097.529" Z="76.88604" />
							</If>
							
							<If condition="false"><!-- If Set true will go to Outland -->
							<CustomBehavior File="Message" Text="On out way to Outland." LogColor="Lime" />
							<CustomBehavior File="Message" Text="Going by boat in Ratchet." LogColor="Lime" />
							
							<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
								<CustomBehavior File="FlyTo" X="-996.8669" Y="-3826.07" Z="5.536246" />
							</If>
							<If Condition="!SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
								<RunTo X="-996.8669" Y="-3826.07" Z="5.536246" />
							</If>
							<CustomBehavior File="UseTransport" TransportId="20808"
											WaitAtX="-996.8669" WaitAtY="-3826.07" WaitAtZ="5.536246" 
											TransportStartX="-1005.613" TransportStartY="-3841.648" TransportStartZ="0.01553879"
											StandOnX="-997.3311" StandOnY="-3836.707" StandOnZ="6.030852"
											TransportEndX="-14277.75" TransportEndY="582.8661" TransportEndZ="0.03330701"
											GetOffX="-14280.88" GetOffY="566.6268" GetOffZ="6.979454" />
											<!-- Should now be in Eastern Kingdom -->
								<While Condition="Me.MapId == 0" >
									<If Condition="Me.MapId == 0" >
										<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
											<CustomBehavior File="FlyTo" X="-11895.44" Y="-3206.936" Z="-14.64132" />
										</If>
										<RunTo X="-11895.44" Y="-3206.936" Z="-14.64132" />
										<CustomBehavior File="WaitTimer" WaitTime="1000" />
									</If>
									<If Condition="Me.MapId == 0" >
										<CustomBehavior File="MyCTM" X="-11908.09" Y="-3208.854" Z="-14.83002" />
										<CustomBehavior File="WaitTimer" WaitTime="5000" />
									</If>
									<If Condition="Me.MapId == 0" >
										<CustomBehavior File="WaitTimer" WaitTime="5000" />
									</If>
								</While>
							</If>
							
							<If condition="false"><!-- If Set true will go to Eastern Kingdom -->
							<CustomBehavior File="Message" Text="Going to Eastern Kingdom." LogColor="Lime" />
							
								<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
									<CustomBehavior File="FlyTo" X="1836.794" Y="-4383.654" Z="206.7829" />
									<CustomBehavior File="FlyTo" X="1848.44" Y="-4398.829" Z="135.1602" />
									<CustomBehavior File="ForcedDismount" />
								</If>
								<RunTo X="1840.468" Y="-4392.099" Z="135.2326" />
								<CustomBehavior File="UseTransport" TransportId="164871"
												WaitAtX="1838.676" WaitAtY="-4387.965" WaitAtZ="135.2332"
												TransportStartX="1833.509" TransportStartY="-4391.543" TransportStartZ="152.7679"
												TransportEndX="2062.376" TransportEndY="292.998" TransportEndZ="114.973"
												StandOnX="1834.961" StandOnY="-4385.694" StandOnZ="135.0334" 
												GetOffX="2066.773" GetOffY="288.873" GetOffZ="97.03159" />
							</If>
							
							<If condition="false"><!-- If Set true will go to Pandaland -->
							<CustomBehavior File="Message" Text="Going to Pandaland." LogColor="Lime" />
							
								<CustomBehavior File="FlyTo" X="2012.948" Y="-4698.641" Z="28.60529" />
								<CustomBehavior File="InteractWith" MobId="215424" ObjectType="Gameobject" Range="4" />
								<CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting for zone {TimeRemaining}" />
								
							</If>	
							
							<!-- No profiles in deepholm-->
								
						</If>
					</If>
				<!-- 
				End transport script credit to Bengan. 
				With use of Kicks go to profiles.
				Big thanks to Kick for this.
				--> 

			<If Condition="Me.IsHorde" >
				<CustomBehavior File="FlyTo" X="2053.95" Y="-4382.332" Z="101.4012" />
				<CustomBehavior File="ForcedDismount" />
				<CustomBehavior File="WaitTimer" WaitTime="500" />
				<CustomBehavior File="InteractWith" MobId="207689" Range="1" X="2065.653" Y="-4390.647" Z="98.04689" />
				<CustomBehavior File="WaitTimer" WaitTime="15000" />
			</If>

			<If Condition="Me.IsAlliance" >
				<CustomBehavior File="FlyTo" X="-8214.21" Y="443.8437" Z="122.2751" />
				<CustomBehavior File="ForcedDismount" />
				<CustomBehavior File="WaitTimer" WaitTime="500" />
				<CustomBehavior File="InteractWith" MobId="207693" Range="1" X="-8223.319" Y="451.1823" Z="117.4883" />
				<CustomBehavior File="WaitTimer" WaitTime="15000" />
			</If>
		</If>

		<CustomBehavior File="RunMacro" Macro="/script SetDungeonDifficultyID(1);" />
		<CustomBehavior File="RunMacro" Macro="/script ResetInstances()" />

		<While Condition="true" >
			<DisableBehavior Name="Death" />

			<If Condition="(Me.FreeBagSlots &gt;= 17) &amp;&amp; !(Me.MapId == 725)" >
				<If Condition="Me.Location.Distance(new WoWPoint(1022.057, 659.4061, 155.4537)) &gt;= 35" > <!-- Nav-to -->
					<CustomBehavior File="FlyTo" X="851.559" Y="512.0077" Z="-41.39708" />
					<CustomBehavior File="MyCTM" X="902.3902" Y="660.9751" Z="122.9574" />
					<CustomBehavior File="MyCTM" X="997.7759" Y="677.0906" Z="163.3834" />
					<CustomBehavior File="MyCTM" X="1020.095" Y="648.701" Z="159.3423" />
					<CustomBehavior File="FlyTo" X="1023.028" Y="645.5878" Z="162.8627" />  <!-- Hub -->
				</If>
			</If>

			<While Condition="(Me.FreeBagSlots &gt;= 17) || Me.IsDead" >
				<If Condition="!(Me.MapId == 725)" >
					<RunTo X="1026.976" Y="629.6721" Z="156.672" />
					<CustomBehavior File="Message" Text="Entering The Stonecore." LogColor="Lime" />
					<CustomBehavior File="MyCTM" X="1030.096" Y="616.6962" Z="153.9439" />
					<CustomBehavior File="WaitTimer" WaitTime="5500" />
					<While Condition="!(StyxWoW.IsInWorld)" >
						<CustomBehavior File="WaitTimer" WaitTime="1000" />
					</While>
				</If>

				<!-- Begin Instance Grind -->
				<If Condition="(Me.MapId == 725) &amp;&amp; Me.IsAlive" >
					<CustomBehavior File="Misc\InstanceTimer" Timer="Start" />
					<CustomBehavior File="UserSettings" LootMobs="False" />
					<DisableBehavior Name="Pull" />

					<If Condition="Me.IsAlive" >
						<RunTo X="899.8765" Y="980.8341" Z="316.8646" />
					</If>
					<If Condition="Me.IsAlive" >
						<RunTo X="980.9249" Y="893.5306" Z="305.5399" />
					</If>
					<If Condition="Me.IsAlive" >
						<RunTo X="1055.909" Y="868.0199" Z="294.0879" />
					</If>
					<If Condition="Me.IsAlive" >
						<RunTo X="1118.775" Y="881.5455" Z="285.9568" />
					</If>
					<If Condition="Me.IsAlive" >
						<RunTo X="1137.849" Y="906.4434" Z="286.6169" />
					</If>
					<If Condition="Me.IsAlive" >
						<RunTo X="1263.269" Y="1207.495" Z="247.363" /> <!-- Go all the way to Slabhide -->
					</If>

					<If Condition="Me.IsAlive" >
						<EnableBehavior Name="Pull" />
						<CustomBehavior File="UserSettings" LootMobs="True" />
						<CustomBehavior File="WaitTimer" WaitTime="2500" />
						<CustomBehavior File="InteractWith" MobId="43214" X="1292.352" Y="1226.478" Z="247.6368" />
					</If>
					<If Condition="Me.IsAlive" >
						<RunTo X="1307.165" Y="1232.391" Z="247.2243" />
						<CustomBehavior File="UserSettings" LootMobs="False" />
					</If>
					<If Condition="Me.IsAlive" >
						<If Condition="(HasItem(63043))" >
							<CustomBehavior File="Message" Text="\n\nCongratulations!\nYou are now the owner of a fresh new Vitreous Stone Drake!" LogColor="Yellow" />
						</If>
						<If Condition="(!HasItem(63043))" >
							<CustomBehavior File="Message" Text="\n\nThe Vitreous Stone Drake did not drop.\nContinuing run." LogColor="Red" />
						</If>
					</If>

					<If Condition="Me.IsAlive" >
						<CustomBehavior File="InteractWith" MobId="51397" X="1313.26" Y="1236.833" Z="247.2859" />
						<CustomBehavior File="WaitTimer" WaitTime="1500" />
						<RunTo X="836.7336" Y="987.9589" Z="317.4236" />

						<CustomBehavior File="Misc\InstanceTimer" Timer="Check" />
						<CustomBehavior File="MyCTM" X="822.9694" Y="986.8021" Z="318.7797" />
						<CustomBehavior File="WaitTimer" WaitTime="5500" />
						<While Condition="!(StyxWoW.IsInWorld)" >
							<CustomBehavior File="WaitTimer" WaitTime="1000" />
						</While>
						<CustomBehavior File="RunMacro" Macro="/script ResetInstances()" />
						<CustomBehavior File="RunMacro" Macro="/script SetDungeonDifficultyID(1);" />
					</If>

					<If Condition="Me.IsDead" >
						<CustomBehavior File="Message" Text="We died!  Returning to instance..." LogColor="Red" />
						<CustomBehavior File="RunMacro" Macro="/script RepopMe()" />
						<CustomBehavior File="MyCTM" X="993.4387" Y="717.355" Z="158.3469" />
						<CustomBehavior File="MyCTM" X="1014.872" Y="656.0049" Z="156.6734" /> 
					</If>
				</If>
			</While>
			<!-- End Instance Grind -->

			<!-- Vendor Routine -->
			<If Condition="(Me.FreeBagSlots &lt; 17) &amp;&amp; Me.IsAlive" >
				<CustomBehavior File="Message" Text="Moving to Sell, Repair, Mail" LogColor="Lime" />
				<If Condition="Me.KnowsSpell(61425) || Me.KnowsSpell(61447) || Me.KnowsSpell(122708)" >
					<CustomBehavior File="WaitTimer" WaitTime="750" />
					<CustomBehavior File="RunMacro" Macro="/cast Тундровый мамонт путешественника\n/cast Traveler's Tundra Mammoth\n/cast Tundramammut des Reisenden\n/cast Großes Expeditionsyak\n/cast Большой як для путешествий\n/cast Grand Expedition Yak" />
					<CustomBehavior File="WaitTimer" WaitTime="2000" />
					<CustomBehavior File="ForceSetVendor" DoSell="true" DoRepair="true" />
				</If>
				<If Condition="(Me.FreeBagSlots &lt; 17)" >
					<CustomBehavior File="FlyTo" X="977.2117" Y="678.8298" Z="153.3052" />
					<CustomBehavior File="MyCTM" X="933.7256" Y="637.4918" Z="133.1676" />
					<CustomBehavior File="MyCTM" X="868.5516" Y="572.0604" Z="22.80867" />
			        <CustomBehavior File="FlyTo" X="894.2306" Y="500.5792" Z="-30.86596" />

			        <If Condition="Me.IsAlliance" >
			            <CustomBehavior File="MyCTM" X="987.4436" Y="518.3469" Z="-38.70247" />
			            <CustomBehavior File="MyCTM" X="1023.961" Y="560.5769" Z="-40.13696" />
			            <CustomBehavior File="MyCTM" X="1050.577" Y="634.3514" Z="-45.71395" />
			            <MoveTo X="1050.775" Y="634.2302" Z="-45.69601" />
			            <CustomBehavior File="WaitTimer" WaitTime="2500" /> <!-- Wait for NPC spawn lag -->
			            <CustomBehavior File="ForceSetVendor" DoMail="True" DoSell="True" DoRepair="True" />
			        </If>
			        <If Condition="Me.IsHorde" >
			            <CustomBehavior File="MyCTM" X="987.4436" Y="518.3469" Z="-38.70247" />
			            <CustomBehavior File="MyCTM" X="1049.787" Y="483.1206" Z="-40.61964" />
			            <CustomBehavior File="MyCTM" X="1090.271" Y="438.8304" Z="-45.77536" />
			            <MoveTo X="1088.669" Y="437.292" Z="-45.75327" />
			            <CustomBehavior File="WaitTimer" WaitTime="2500" /> <!-- Wait for NPC spawn lag -->
			            <CustomBehavior File="ForceSetVendor" DoMail="True" DoSell="True" DoRepair="True" />
			        </If>

			        <RunTo X="906.6677" Y="502.1017" Z="-49.21947" />
			    </If>

		    </If>
			<!-- End Vendor Routine -->

		</While>
	</If>

</QuestOrder>
</HBProfile>